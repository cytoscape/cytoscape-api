language: java
sudo: false
jdk:
- openjdk11
branches:
  only:
  - travis-ci
install:
- cp .travis.settings.xml $HOME/.m2/settings.xml
script: mvn clean install -U -B -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn

deploy:
  provider: script
  script: "cp .travis.settings.xml $HOME/.m2/settings.xml && mvn deploy"
  skip_cleanup: true
